# Expense Sharing App

### Introduction

This app is for the capstone project of the udacity full stack developer course. It is designed to show the use of RESTful APIS along with RBAC security throught the third party Auth0.

The app is designed to help groups of people share expenses. If people, for example a household, are buying something for everyone they can enter the transaction into the app and the app will determine how much the buyer is owed from each person (be it for a group or for 2 individuals). It will also maintain records of the total each user is owed/owes from one another and in total across all transactions.

### Roles

The app is equipped with two roles through Auth0: administrators and users. The administrators have total permissions over all the endpoints whilst the users can use all endpoints except those that edit existing transactions. All endpoints require a Json token.

## API Reference

The app is currently deployed to Herkou where it can be sent curl requests using the URL: https://expense-sharing-app.herokuapp.com
All requests must include a JSON token generated by Auth0, and the endpoints PATCH /transactions and DELETE /transactions must include a JSON token from the administrator role, which has the appropriate permissions.

### Endpoints

POST /users

- Adds a user to a database. Requires a jSON object describing the users name. Returns a JSON success message. 

- Sample:

'''
curl --request POST --header "Content-Type: application/json" --data '{"name":"raul"}' --header '<JSON-Token>' https://expense-sharing-app.herokuapp.com/users
'''

POST /groups

- Adds a groups to the database. Requires a Json object with the group name and a dictionary with the primary keys of the groups members. Returns a JSON success message.

- Sample:

'''
curl --request POST --header "Content-Type: application/json" --data '{"name":"House", "users":[1,2,3]}' --header '<JSON Token>' https://expense-sharing-app.herokuapp.com/groups
'''

GET /users

- Queries the database for all users and returns a JSON list of users along with the total amount of money they are owed and an array representing how much each individual user owes the other named "outsanding". 

- Sample:

''' curl --header '<JSON Token>' https://expense-sharing-app.herokuapp.com/users '''
'''
'''

GET /groups

- Queries the database and returns a JSON list of the groups as well as a dictionary with their members.

- Sample:

''' curl --header '<JSON Token> https://expense-sharing-app.herokuapp.com/groups '''

'''
{"groups":[{"id":1,"members":[{"id":1,"name":"david"},{"id":2,"name":"raul"},{"id":3,"name":"Jedediah"}],"name":"House"}],"success":true}
'''

POST /transactions

- adds a transaction to the database, also passes the information through to other functions in order to update the expense records of the user's involved in the transaction. Requires a Json object containing the item name, price, the primary key of the buyer, and the group primary key or the primary key of the 'borrower'.

''' 




